<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Học từ vựng - Lớp Anh thầy Kết</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #fff8f0;
    margin: 0;
    padding: 0;
    text-align: center;
  }

header {
  background-color: #ffd6ba;
  padding: 15px 20px;
  font-weight: bold;
  color: #7a4e3e;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 15px;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 0 0 auto;
}
.header-left a {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 18px;
  color: #7a4e3e;
  text-decoration: none;
}
.header-left a i { font-size: 28px; }

header { position: relative; }
.header-center {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
  font-size: 22px;
  margin: 0;
  white-space: nowrap;
}

/* Select */
.top-select {
  display: flex;
  justify-content: flex-start;
  margin: 20px 40px;
}
select {
  padding: 8px 14px;
  font-size: 18px;
  border-radius: 8px;
  border: 2px solid #a0e7e5;
  background-color: #e3fdfd;
}

/* Preview Frame */
.preview-box {
  width: 80%;
  height: 480px;
  margin: 0 auto;
  border: 2px solid #a0e7e5;
  border-radius: 12px;
  background-color: white;
  margin-bottom: 20px;
}
.preview-box iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Word list */
.word-list {
  width: 45%;
  margin: 20px auto;
  background-color: #E0FBE2;
  border-radius: 10px;
  padding: 15px;
  text-align: left;
  font-size: 22px;
}
.word-row {
  display: flex;
  justify-content: space-between;
  padding: 6px 10px;
  border-bottom: 1px dashed #ffb3ba;
  transition: background-color .15s ease-in-out;
}
.word-row:last-child { border-bottom: none; }
.word-row:hover { background-color: #fffacd; cursor: pointer; }

/* Ôn tập */
.review-box {
  margin: 40px auto;
  width: 70%;
  background-color: #ffe5ec;
  padding: 25px;
  font-weight: bold;
  color: #607274;
  font-size: 26px;
  border-radius: 12px;
}
.review-buttons {
  display: flex;
  justify-content: center;
  margin-top: 20px;
  gap: 15px;
}
.review-buttons button {
  background-color: #a0e7e5;
  border: none;
  padding: 12px 20px;
  font-size: 20px;
  border-radius: 8px;
  cursor: pointer;
}
.review-buttons button:hover {
  background-color: #ffb3ba;
}

/* Exercise */
.exercise {
  width: 80%;
  margin: 0 auto 30px auto;
  font-size: 22px;
  text-align: left;
}

/*** MCQ STYLE UPDATE ***/
.mc-question {
  margin-bottom: 22px;
  padding: 12px 15px;
  background: #fff;
  border-radius: 10px;
  border-left: 6px solid #ffd6ba;
}
.mc-q {
  font-size: 22px;
  margin-bottom: 10px;
}
.mc-options {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-left: 5px;
}
.mc-option {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  font-size: 20px;
}
.mc-option input[type="radio"] {
  width: 22px;
  height: 22px;
  accent-color: #ff9f9f;
  cursor: pointer;
}
.check-btn {
  margin-top: 10px;
  background-color: #a0e7e5;
  border: none;
  padding: 8px 16px;
  font-size: 18px;
  border-radius: 8px;
  cursor: pointer;
}
.check-btn:hover {
  background-color: #ffb3ba;
}

.result {
  font-weight: bold;
  font-size: 20px;
  margin-left: 10px;
}

footer {
  font-size: 22px;
  margin-top: 40px;
  padding: 20px;
  color: #7a4e3e;
  background-color: #fff0e1;
}


.word-row {
  display: grid;
  grid-template-columns: 1fr 1.2fr 40px; /* EN | VN | tick */
  align-items: center;
}
.word-en { text-align: left; }
.word-vn { text-align: right; padding-right: 10px; }



</style>
</head>

<body>
<header>
  <div class="header-left">
    <a href="">  
      <i class="fa-solid fa-house"></i> Home
    </a>
  </div>
  <div class="header-center">Tiếng Anh Cấp tốc</div>
</header>
<!-- Select Topic -->
<div class="top-select">
  <select id="wordList">
    <option value="1">Lesson 1</option>
    <option value="2">Lesson 2</option>
    <option value="3">Lesson 3</option>
    <option value="4">Lesson 4</option>
    <option value="5">Lesson 5</option>
    <option value="6">Lesson 6</option>
    <option value="7">Lesson 7</option>
    <option value="8">Lesson 8</option>
    <option value="9">Lesson 9</option>
    <option value="10">Lesson 10</option>

  </select>
</div>

<!-- Preview -->
<div class="preview-box">
  <iframe id="previewFrame" src=""></iframe>
</div>

<!-- Word list -->
<div class="word-list" id="wordContainer"></div>

<!-- Review -->
<div class="review-box">
  <div id="vietWord">Chọn Bộ từ vựng để bắt đầu</div>
  <div id="answer" style="font-size:22px;color:#7a4e3e; margin-top:15px; text-align:center; min-height:40px;"></div>

  <div class="review-buttons">
    <button onclick="know()">Đã biết</button>
    <button onclick="dontKnow()">Chưa biết</button>
    <button onclick="nextWord()">Tiếp theo</button>
  </div>
</div>

<!-- Exercises -->
<div class="exercise" id="exercise"></div>

<footer>Chúc mừng bạn đã hoàn thành bài học!</footer>

<script>
/******** DATA ********/
const previewFiles = {
  1:"https://drive.google.com/file/d/1A5zwK9DiOu6wbQO3vgMwaIaU7lJwzjW_/preview"





};

const data = {
  1:[
    {en: "be", vn: "thì, là, ở", tick: false},
    {en: "have", vn: "có", tick: false},
    {en: "do", vn: "làm", tick: false},
    {en: "say", vn: "nói", tick: false},
    {en: "go", vn: "đi", tick: false},
    {en: "get", vn: "nhận được, trở nên", tick: false},
    {en: "make", vn: "chế tạo, làm ra", tick: false},
    {en: "know", vn: "biết", tick: false},
    {en: "think", vn: "nghĩ", tick: false},
    {en: "take", vn: "lấy, cầm", tick: false},
    {en: "see", vn: "nhìn, thấy", tick: false},
    {en: "come", vn: "đến", tick: false},
    {en: "want", vn: "muốn", tick: false},
    {en: "use", vn: "dùng, sử dụng", tick: false},
    {en: "find", vn: "tìm thấy", tick: false},
    {en: "give", vn: "cho, tặng", tick: false},
    {en: "tell", vn: "kể, bảo", tick: false},
    {en: "work", vn: "làm việc", tick: false},
    {en: "call", vn: "gọi", tick: false},
    {en: "try", vn: "thử, cố gắng", tick: false},
    {en: "ask", vn: "hỏi", tick: false},
    {en: "need", vn: "cần", tick: false},
    {en: "feel", vn: "cảm thấy", tick: false},
    {en: "become", vn: "trở nên, trở thành", tick: false},
    {en: "leave", vn: "rời khỏi, để lại", tick: false},
    {en: "put", vn: "đặt, để", tick: false},
    {en: "mean", vn: "nghĩa là", tick: false},
    {en: "keep", vn: "giữ", tick: false},
    {en: "let", vn: "để cho, cho phép", tick: false},
    {en: "begin", vn: "bắt đầu", tick: false},
    {en: "seem", vn: "có vẻ như", tick: false},
    {en: "help", vn: "giúp đỡ", tick: false},
    {en: "talk", vn: "nói chuyện", tick: false},
    {en: "turn", vn: "xoay, quay, rẽ", tick: false},
    {en: "start", vn: "bắt đầu, khởi hành", tick: false},
    {en: "show", vn: "cho xem, trình bày", tick: false},
    {en: "hear", vn: "nghe", tick: false},
    {en: "play", vn: "chơi", tick: false},
    {en: "run", vn: "chạy", tick: false},
    {en: "move", vn: "di chuyển", tick: false},
    {en: "live", vn: "sống", tick: false},
    {en: "believe", vn: "tin tưởng", tick: false},
    {en: "bring", vn: "mang đến", tick: false},
    {en: "happen", vn: "xảy ra", tick: false},
    {en: "write", vn: "viết", tick: false},
    {en: "sit", vn: "ngồi", tick: false},
    {en: "stand", vn: "đứng", tick: false},
    {en: "pay", vn: "trả tiền", tick: false},
    {en: "meet", vn: "gặp gỡ", tick: false},
    {en: "include", vn: "bao gồm", tick: false}
  ],


};

const exercises = {
  1:[
    {q:"The company launched a massive ________ to promote its new phone.", a:"advertising campaign"},
    {q:"Most social media platforms rely heavily on ________ to operate.", a:"advertising revenue"},
    {q:"Modern societies are often driven by a culture of ________.", a:"consumerism"}
  ]
};

let currList = 1, listCopy = [], index = 0;
let originalOrder = [];  // lưu thứ tự gốc

/******** LIST ********/
function renderWords(){
  const box = document.getElementById("wordContainer");
  const list = data[currList];

box.innerHTML = list.map((v,i)=>`
  <div class="word-row">
    <span class="word-en">${v.en}</span>
    <span class="word-vn">${v.vn}</span>
    <input type="checkbox" ${v.tick ? "checked" : ""} data-index="${i}">
  </div>
`).join("");

  document.querySelectorAll("#wordContainer input[type='checkbox']").forEach(c=>{
    c.addEventListener("change", toggleTick);
  });
}

function toggleTick(e){
  const i = e.target.dataset.index;
  data[currList][i].tick = !data[currList][i].tick;

  const checked = data[currList].filter(x=>x.tick);
  const unchecked = originalOrder.filter(o=>!checked.find(c=>c.en===o.en));

  data[currList] = [...checked, ...unchecked];

  renderWords();
}

/******** REVIEW ********/
function nextWord(){
  if(listCopy.length===0) listCopy=[...data[currList]];
  index=Math.floor(Math.random()*listCopy.length);
  document.getElementById("vietWord").innerHTML=listCopy[index].vn;
  document.getElementById("answer").innerHTML="";
}
function know(){
  listCopy.splice(index,1);
  nextWord();
}
function dontKnow(){
  document.getElementById("answer").innerHTML=listCopy[index].en;
}
  
/******** MCQ ********/
function shuffleOptions(correct){
  const all = exercises[currList].map(x=>x.a);
  const wrong = all.filter(x=>x!==correct);
  while(wrong.length>3) wrong.splice(Math.floor(Math.random()*wrong.length),1);
  return [correct,...wrong].sort(()=>Math.random()-0.5);
}

function checkMC(idx, correct){
  const selected = document.querySelector(`input[name="q${idx}"]:checked`);
  const res = document.getElementById(`res${idx}`);
  if(!selected){
    res.innerHTML="Chọn đáp án đã!";
    res.style.color="#C5705D";
    return;
  }
  if(selected.value===correct){
    res.innerHTML="Đúng rồi!";
    res.style.color="green";
  } else {
    res.innerHTML="Sai rồi!";
    res.style.color="red";
  }
}

function loadExercises(){
  const box = document.getElementById("exercise");
  const list = exercises[currList];
  let html="";
  list.forEach((item,idx)=>{
    const opts = shuffleOptions(item.a);
    html += `
      <div class="mc-question">
        <div class="mc-q">${idx+1}. ${item.q}</div>
        <div class="mc-options">
          ${opts.map(o=>`
            <label class="mc-option">
              <input type="radio" name="q${idx}" value="${o}">
              ${o}
            </label>`).join("")}
        </div>
        <button class="check-btn" onclick="checkMC(${idx}, '${item.a.replace(/'/g,"\\'")}')">Check</button>
        <span id="res${idx}" class="result"></span>
      </div>`;
  });
  box.innerHTML = html;
}

/******** LOAD ********/
function loadList(){
  currList=document.getElementById("wordList").value;
  document.getElementById("previewFrame").src = previewFiles[currList];
  listCopy=[...data[currList]];
  originalOrder=[...data[currList]]; // lưu thứ tự ban đầu
  renderWords();
  nextWord();
  loadExercises();
}

document.getElementById("wordList").onchange = loadList;
loadList();
</script>
